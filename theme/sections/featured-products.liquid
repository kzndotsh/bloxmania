{%- style -%}
  /* Only keep essential hover effects */
  .product-card:hover {
    transform: translateY(-5px);
  }
{%- endstyle -%}

<section class="py-8 px-4 bg-gray-900">
  <div class="max-w-7xl mx-auto">
    <div class="flex flex-col md:flex-row justify-between items-center mb-6 text-center md:text-left gap-4">
      <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-white m-0">Featured Items</h2>
      <a
        href="{{ section.settings.view_all_link | default: '/collections/all' }}"
        class="inline-flex items-center px-4 py-2 bg-transparent text-primary border border-primary no-underline font-medium rounded-md transition-all duration-200 text-sm hover:bg-primary hover:text-black"
      >
        View all â†’
      </a>
    </div>

    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-5 justify-items-center">
      {% if section.settings.collection != blank %}
        {% assign products = section.settings.collection.products | slice: 0, section.settings.products_to_show %}
        {% for product in products %}
          <div class="product-card bg-gray-800 rounded-2xl overflow-hidden border border-gray-700 w-full max-w-60 transition-all duration-300 cursor-pointer hover:border-primary hover:shadow-lg hover:shadow-primary/20">
            <div class="w-full h-48 md:h-52 overflow-hidden p-6 bg-gray-800">
              <div class="w-full h-full rounded-lg overflow-hidden bg-gray-700">
                {% if product.featured_image != blank %}
                  <img
                    src="{{ product.featured_image | image_url: width: 300 }}"
                    alt="{{ product.title }}"
                    class="w-full h-full object-contain"
                    width="220"
                    height="180"
                    loading="lazy"
                  >
                {% else %}
                  <div class="w-full h-full bg-gray-700 flex items-center justify-center text-gray-400 text-xs">
                    No Image
                  </div>
                {% endif %}
              </div>
            </div>

            <div class="p-5 text-center">
              <h3 class="text-lg md:text-xl font-semibold text-white mb-3 leading-tight overflow-hidden line-clamp-2 m-0">
                <a href="{{ product.url }}" class="text-inherit no-underline">{{ product.title }}</a>
              </h3>
              <div class="text-xl md:text-2xl font-bold text-primary m-0">
                {% if product.compare_at_price > product.price %}
                  <span class="line-through text-gray-400 mr-2 text-lg font-medium">
                    {{- product.compare_at_price | money -}}
                  </span>
                {% endif %}
                {{ product.price | money }}
              </div>
            </div>
          </div>
        {% endfor %}
      {% else %}
        <!-- Demo Products -->
        {% assign demo_products = '10T.jpg,DISCO-BEE.jpg,DRAGONFLY.jpg,FENNEC.jpg,RACCOON.jpg' | split: ',' %}
        {% assign demo_names = '10 Trillion Sheckles,Disco Bee,Dragonfly,Fennec Fox,Raccoon' | split: ',' %}
        {% assign demo_prices = '$15.99,$17.99,$12.99,$24.99,$12.99' | split: ',' %}

        {% for i in (1..5) %}
          {% assign index = forloop.index0 %}
          {% assign img_asset = demo_products[index] | default: 'no-image.png' %}
          {% assign prod_name = demo_names[index] | default: 'Featured Gaming Item' %}
          {% assign prod_price = demo_prices[index] | default: '$9.99' %}

          <div class="product-card bg-gray-800 rounded-2xl overflow-hidden border border-gray-700 w-full max-w-60 transition-all duration-300 cursor-pointer hover:border-primary hover:shadow-lg hover:shadow-primary/20">
            <div class="w-full h-48 md:h-52 overflow-hidden p-6 bg-gray-800">
              <div class="w-full h-full rounded-lg overflow-hidden bg-gray-700">
                <img
                  src="{{ img_asset | asset_url }}"
                  alt="{{ prod_name }}"
                  class="w-full h-full object-contain"
                  width="220"
                  height="180"
                  loading="lazy"
                >
              </div>
            </div>

            <div class="p-5 text-center">
              <h3 class="text-lg md:text-xl font-semibold text-white mb-3 leading-tight overflow-hidden line-clamp-2 m-0">
                <a href="#" class="text-inherit no-underline">{{ prod_name }}</a>
              </h3>
              <div class="text-xl md:text-2xl font-bold text-primary m-0">{{ prod_price }}</div>
            </div>
          </div>
        {% endfor %}
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Featured Products",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "min": 4,
      "max": 20,
      "step": 1,
      "default": 8,
      "label": "Number of products to show"
    },
    {
      "type": "url",
      "id": "view_all_link",
      "label": "View All Link"
    }
  ],
  "presets": [
    {
      "name": "Featured Products"
    }
  ]
}
{% endschema %}
