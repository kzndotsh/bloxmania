{% comment %}
  Featured Products Section - Refactored to use components
{% endcomment %}

{% render 'layout-section-wrapper', classes: 'bg-cover bg-center bg-no-repeat', background: 'image', padding: 'large' %}
<div class="absolute inset-0 bg-gradient-to-t from-slate-900/70 via-transparent to-indigo-900/25"></div>
<div class="absolute inset-0 bg-gradient-to-br from-cyan-900/15 via-transparent to-violet-900/15"></div>

<div class="relative z-10">
  <div class="flex flex-col md:flex-row justify-between items-center mb-12 text-center md:text-left gap-4">
    <h2 class="text-3xl md:text-4xl font-bold text-white m-0">Featured Items</h2>
    {% render 'ui-button', text: 'View all â†’', url: section.settings.view_all_link, variant: 'outline', size: 'small' %}
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6">
    {% if section.settings.collection != blank %}
      {% assign products = section.settings.collection.products | slice: 0, section.settings.products_to_show %}
      {% for product in products %}
        {% render 'content-product-card', product: product, background: 'widget', classes: 'h-full' %}
      {% endfor %}
    {% else %}
      {% comment %} Show placeholder products if no collection is selected {% endcomment %}
      {% for i in (1..6) %}
        <div class="border border-gray-700 rounded-2xl p-6 bg-gray-800/50 text-center">
          <div class="w-32 h-32 mx-auto rounded-xl mb-4 bg-gray-700 flex items-center justify-center text-gray-400 text-xs">
            Product {{ i }}
          </div>
          <h3 class="text-sm font-semibold text-white mb-2">Sample Product {{ i }}</h3>
          <p class="text-primary font-bold text-sm">$19.99</p>
        </div>
      {% endfor %}
    {% endif %}
  </div>
</div>

<style>
  .featured-products-section {
    background-image: url({{'okok1.png'|asset_url}});
  }
</style>

{% schema %}
{
  "name": "Featured Products",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection"
    },
    {
      "type": "range",
      "id": "products_to_show",
      "label": "Products to show",
      "min": 2,
      "max": 12,
      "step": 1,
      "default": 6
    },
    {
      "type": "url",
      "id": "view_all_link",
      "label": "View all link",
      "default": "/collections/all"
    }
  ],
  "presets": [
    {
      "name": "Featured Products"
    }
  ]
}
{% endschema %}
