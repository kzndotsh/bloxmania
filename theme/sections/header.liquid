{%- style -%}
  .header-wrapper {
    position: fixed;
    width: 100%;
    top: 0;
    z-index: 50;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .header-transparent {
    background: transparent;
    border-bottom: 1px solid transparent;
  }

  .header-scrolled {
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-bottom: 1px solid rgba(51, 52, 65, 0.5);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem 2rem;
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Left Section: Mobile Menu Button / Desktop Logo */
  .header-left {
    display: flex;
    align-items: center;
    flex-shrink: 0;
  }

  /* Mobile Menu Button */
  .mobile-menu-toggle {
    display: none;
    background: none;
    border: none;
    color: #d1d5db;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 0.5rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mobile-menu-toggle:hover {
    color: #ffffff;
    background: rgba(255, 255, 255, 0.1);
  }

  .mobile-menu-icon {
    width: 2rem;
    height: 2rem;
  }

  /* Logo Styles */
  .logo-container {
    flex-shrink: 0;
  }

  .logo {
    height: 3rem;
    width: auto;
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
  }

  .logo:hover {
    transform: scale(1.05);
  }

  /* Center Section: Mobile Logo / Desktop Navigation */
  .header-center {
    display: flex;
    justify-content: center;
    flex: 1;
    min-width: 0;
  }

  /* Mobile Logo */
  .mobile-logo {
    display: none;
    height: 3rem;
    width: auto;
    cursor: pointer;
  }

  /* Desktop Navigation */
  .nav {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    min-width: 0;
  }

  .nav-link {
    color: #d1d5db;
    text-decoration: none;
    font-weight: 500;
    font-size: 1rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    white-space: nowrap;
    padding: 0.5rem 0;
  }

  .nav-link::after {
    content: '';
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background: #ffd800;
    transition: width 0.3s ease;
  }

  .nav-link:hover::after {
    width: 100%;
  }

  .nav-link:hover {
    color: #ffd800;
  }

  .nav-icon {
    width: 1.25rem;
    height: 1.25rem;
    transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Check icon for guarantee */
  .check-icon {
    position: absolute;
    inset: 0;
    width: 0.625rem;
    height: 0.625rem;
    margin: auto;
    transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Right Section: User Actions */
  .user-actions {
    display: flex;
    align-items: center;
    justify-content: end;
    gap: 0.5rem;
    flex-shrink: 0;
  }

  .user-action-btn {
    color: #d1d5db;
    text-decoration: none;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    display: flex;
    align-items: center;
    padding: 0.25rem;
    border-radius: 0.5rem;
  }

  .user-action-btn:hover {
    color: #ffffff;
  }

  .user-action-icon {
    width: 1.5rem;
    height: 1.5rem;
  }

  .cart-count {
    position: absolute;
    top: -0.25rem;
    right: -0.25rem;
    background: #ffd800;
    color: #000;
    font-size: 0.75rem;
    font-weight: 600;
    padding: 0.125rem 0.375rem;
    border-radius: 9999px;
    min-width: 1.25rem;
    text-align: center;
  }

  /* Mobile Menu Overlay */
  .mobile-menu {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    z-index: 51;
    opacity: 0;
    transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mobile-menu.active {
    display: flex;
    flex-direction: column;
    opacity: 1;
  }

  .mobile-menu-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.5rem;
    border-bottom: 1px solid rgba(209, 213, 219, 0.2);
  }

  .mobile-menu-logo {
    height: 3rem;
    width: auto;
    cursor: pointer;
  }

  .mobile-menu-close {
    background: none;
    border: none;
    color: #d1d5db;
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    padding: 0.5rem;
    border-radius: 0.5rem;
  }

  .mobile-menu-close:hover {
    color: #ffffff;
    background: rgba(255, 255, 255, 0.1);
  }

  .mobile-menu-close-icon {
    width: 1.5rem;
    height: 1.5rem;
  }

  /* Mobile Navigation */
  .mobile-nav {
    flex: 1;
    padding: 1.5rem;
    overflow-y: auto;
  }

  .mobile-nav-link {
    color: #d1d5db;
    text-decoration: none;
    font-size: 1.25rem;
    font-weight: 500;
    padding: 1.5rem 0;
    border-bottom: 1px solid rgba(209, 213, 219, 0.2);
    display: flex;
    align-items: center;
    gap: 1rem;
    transition: color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .mobile-nav-link:hover {
    color: #ffd800;
  }

  .mobile-nav-link:last-child {
    border-bottom: none;
  }

  .mobile-nav-icon {
    width: 2rem;
    height: 2rem;
    flex-shrink: 0;
  }

  .mobile-check-icon {
    position: absolute;
    inset: 0;
    width: 1rem;
    height: 1rem;
    margin: auto;
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .nav {
      display: none;
    }

    .mobile-menu-toggle {
      display: block;
    }

    .mobile-logo {
      display: block;
    }

    .logo-container {
      display: none;
    }

    .header-content {
      padding: 1rem;
    }

    .user-actions {
      gap: 0.5rem;
    }
  }

  @media (min-width: 769px) and (max-width: 1024px) {
    .logo {
      height: 3.5rem;
    }

    .nav {
      gap: 1.5rem;
    }
  }

  @media (min-width: 1025px) {
    .logo {
      height: 4rem;
    }

    .nav {
      gap: 2.5rem;
    }

    .nav-link {
      font-size: 1.125rem;
    }

    .nav-icon {
      width: 1.75rem;
      height: 1.75rem;
    }

    .user-action-icon {
      width: 2.25rem;
      height: 2.25rem;
    }
  }
{%- endstyle -%}

<header class="header-wrapper header-transparent" id="header">
  <div class="header-content">
    <!-- Left: Mobile Menu Button / Desktop Logo -->
    <div class="header-left">
      <!-- Mobile Menu Button -->
      <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Open mobile menu">
        <svg class="mobile-menu-icon" fill="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"/>
        </svg>
      </button>

      <!-- Desktop Logo -->
      <div class="logo-container">
        {% if section.settings.logo != blank %}
          <a href="{{ routes.root_url }}">
            <img
              src="{{ section.settings.logo | image_url: width: 200 }}"
              alt="{{ shop.name }}"
              class="logo"
              width="200"
              height="60"
            >
          </a>
        {% else %}
          <a href="{{ routes.root_url }}">
            <img
              src="{{ 'BM.png' | asset_url }}"
              alt="BloxMania"
              class="logo"
              width="200"
              height="60"
            >
          </a>
        {% endif %}
      </div>
    </div>

    <!-- Center: Mobile Logo / Desktop Navigation -->
    <div class="header-center">
      <!-- Mobile Logo -->
      {% if section.settings.logo != blank %}
        <a href="{{ routes.root_url }}">
          <img
            src="{{ section.settings.logo | image_url: width: 150 }}"
            alt="{{ shop.name }}"
            class="mobile-logo"
            width="150"
            height="45"
          >
        </a>
      {% else %}
        <a href="{{ routes.root_url }}">
          <img
            src="{{ 'BM.png' | asset_url }}"
            alt="BloxMania"
            class="mobile-logo"
            width="150"
            height="45"
          >
        </a>
      {% endif %}

      <!-- Desktop Navigation -->
      <nav class="nav">
        <a href="{{ routes.all_products_collection_url }}" class="nav-link">
          <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
            <path d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119.997zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"/>
          </svg>
          Shop Now
        </a>

        <a href="{{ pages.guarantee.url | default: '/pages/guarantee' }}" class="nav-link">
          <div style="position: relative;">
            <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.814 3.876 10.713 9.022 12.109a.75.75 0 00.956 0C17.424 20.463 21.3 15.564 21.3 9.75a12.74 12.74 0 00-.635-4.235.75.75 0 00-.722-.515 11.209 11.209 0 01-7.877-3.08zM15.75 9.75a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"/>
            </svg>
            <svg class="check-icon" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z" clip-rule="evenodd"/>
            </svg>
          </div>
          Our Guarantee
        </a>

        {% if section.settings.discord_url != blank %}
          <a href="{{ section.settings.discord_url }}" class="nav-link" target="_blank" rel="noopener">
            <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
            </svg>
            Daily Giveaways
          </a>
        {% else %}
          <a href="https://discord.gg/bloxmania" class="nav-link" target="_blank" rel="noopener">
            <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
            </svg>
            Daily Giveaways
          </a>
        {% endif %}

        <a href="{{ pages['purchasing-guide'].url | default: '/pages/purchasing-guide' }}" class="nav-link">
          <svg class="nav-icon" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z" clip-rule="evenodd"/>
            <path d="M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"/>
          </svg>
          Purchasing Guide
        </a>
      </nav>
    </div>

    <!-- Right: User Actions -->
    <div class="user-actions">
      <a href="{{ routes.cart_url }}" class="user-action-btn" aria-label="Shopping cart">
        <svg class="user-action-icon" fill="currentColor" viewBox="0 0 24 24">
          <path d="M7.5 6v.75H5.513c-.96 0-1.764.724-1.865 1.679l-1.263 12A1.875 1.875 0 004.25 22.5h15.5a1.875 1.875 0 001.865-2.071l-1.263-12a1.875 1.875 0 00-1.865-1.679H16.5V6a4.5 4.5 0 10-9 0zM12 3a3 3 0 00-3 3v.75h6V6a3 3 0 00-3-3z"/>
        </svg>
        {% if cart.item_count > 0 %}
          <span class="cart-count">{{ cart.item_count }}</span>
        {% endif %}
      </a>

      <a href="{{ routes.account_url }}" class="user-action-btn" aria-label="User account">
        <svg class="user-action-icon" fill="currentColor" viewBox="0 0 24 24">
          <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z" clip-rule="evenodd"/>
        </svg>
      </a>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobile-menu">
    <div class="mobile-menu-header">
      {% if section.settings.logo != blank %}
        <img
          src="{{ section.settings.logo | image_url: width: 150 }}"
          alt="{{ shop.name }}"
          class="mobile-menu-logo"
          width="150"
          height="45"
        >
      {% else %}
        <img
          src="{{ 'BM.png' | asset_url }}"
          alt="BloxMania"
          class="mobile-menu-logo"
          width="150"
          height="45"
        >
      {% endif %}
      <button class="mobile-menu-close" id="mobile-menu-close" aria-label="Close mobile menu">
        <svg class="mobile-menu-close-icon" fill="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <nav class="mobile-nav">
      <a href="{{ routes.all_products_collection_url }}" class="mobile-nav-link">
        <svg class="mobile-nav-icon" fill="currentColor" viewBox="0 0 24 24">
          <path d="M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119.997zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"/>
        </svg>
        Shop Now
      </a>

      <a href="{{ pages.guarantee.url | default: '/pages/guarantee' }}" class="mobile-nav-link">
        <div style="position: relative;">
          <svg class="mobile-nav-icon" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M12.516 2.17a.75.75 0 00-1.032 0 11.209 11.209 0 01-7.877 3.08.75.75 0 00-.722.515A12.74 12.74 0 002.25 9.75c0 5.814 3.876 10.713 9.022 12.109a.75.75 0 00.956 0C17.424 20.463 21.3 15.564 21.3 9.75a12.74 12.74 0 00-.635-4.235.75.75 0 00-.722-.515 11.209 11.209 0 01-7.877-3.08zM15.75 9.75a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"/>
          </svg>
          <svg class="mobile-check-icon" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M19.916 4.626a.75.75 0 01.208 1.04l-9 13.5a.75.75 0 01-1.154.114l-6-6a.75.75 0 011.06-1.06l5.353 5.353 8.493-12.739a.75.75 0 011.04-.208z" clip-rule="evenodd"/>
          </svg>
        </div>
        Our Guarantee
      </a>

      {% if section.settings.discord_url != blank %}
        <a href="{{ section.settings.discord_url }}" class="mobile-nav-link" target="_blank" rel="noopener">
          <svg class="mobile-nav-icon" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
          </svg>
          Daily Giveaways
        </a>
      {% else %}
        <a href="https://discord.gg/bloxmania" class="mobile-nav-link" target="_blank" rel="noopener">
          <svg class="mobile-nav-icon" fill="currentColor" viewBox="0 0 24 24">
            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
          </svg>
          Daily Giveaways
        </a>
      {% endif %}

      <a href="{{ pages['purchasing-guide'].url | default: '/pages/purchasing-guide' }}" class="mobile-nav-link">
        <svg class="mobile-nav-icon" fill="currentColor" viewBox="0 0 24 24">
          <path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0016.5 9h-1.875a1.875 1.875 0 01-1.875-1.875V5.25A3.75 3.75 0 009 1.5H5.625zM7.5 15a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5A.75.75 0 017.5 15zm.75 2.25a.75.75 0 000 1.5H12a.75.75 0 000-1.5H8.25z" clip-rule="evenodd"/>
          <path d="M12.971 1.816A5.23 5.23 0 0114.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 013.434 1.279 9.768 9.768 0 00-6.963-6.963z"/>
        </svg>
        Purchasing Guide
      </a>

      <a href="{{ routes.cart_url }}" class="mobile-nav-link">
        <svg class="mobile-nav-icon" fill="currentColor" viewBox="0 0 24 24">
          <path d="M7.5 6v.75H5.513c-.96 0-1.764.724-1.865 1.679l-1.263 12A1.875 1.875 0 004.25 22.5h15.5a1.875 1.875 0 001.865-2.071l-1.263-12a1.875 1.875 0 00-1.865-1.679H16.5V6a4.5 4.5 0 10-9 0zM12 3a3 3 0 00-3 3v.75h6V6a3 3 0 00-3-3z"/>
        </svg>
        Cart{% if cart.item_count > 0 %} ({{ cart.item_count }}){% endif %}
      </a>

      <a href="{{ routes.account_url }}" class="mobile-nav-link">
        <svg class="mobile-nav-icon" fill="currentColor" viewBox="0 0 24 24">
          <path fill-rule="evenodd" d="M7.5 6a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM3.751 20.105a8.25 8.25 0 0116.498 0 .75.75 0 01-.437.695A18.683 18.683 0 0112 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 01-.437-.695z" clip-rule="evenodd"/>
        </svg>
        Account
      </a>
    </nav>
  </div>
</header>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const header = document.getElementById('header');
    const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const mobileMenuClose = document.getElementById('mobile-menu-close');

    // Header scroll effect
    function handleScroll() {
      if (window.scrollY > 10) {
        header.classList.remove('header-transparent');
        header.classList.add('header-scrolled');
      } else {
        header.classList.remove('header-scrolled');
        header.classList.add('header-transparent');
      }
    }

    // Initialize header state
    handleScroll();
    window.addEventListener('scroll', handleScroll);

    // Mobile menu toggle
    function openMobileMenu() {
      mobileMenu.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeMobileMenu() {
      mobileMenu.classList.remove('active');
      document.body.style.overflow = '';
    }

    mobileMenuToggle?.addEventListener('click', openMobileMenu);
    mobileMenuClose?.addEventListener('click', closeMobileMenu);

    // Close mobile menu when clicking outside
    mobileMenu?.addEventListener('click', function (e) {
      if (e.target === mobileMenu) {
        closeMobileMenu();
      }
    });

    // Close mobile menu on escape key
    document.addEventListener('keydown', function (e) {
      if (e.key === 'Escape' && mobileMenu.classList.contains('active')) {
        closeMobileMenu();
      }
    });
  });
</script>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "text",
      "id": "discord_url",
      "label": "Discord URL",
      "default": "https://discord.gg/bloxmania"
    }
  ]
}
{% endschema %}
