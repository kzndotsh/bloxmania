!function(){"use strict";const e="core";window.BloxMania&&window.BloxMania.bundles&&(window.BloxMania.bundles[e]={version:"1.0.0",loaded:!0,timestamp:Date.now()});window.BloxManiaConstants={ON_CHANGE_DEBOUNCE_TIMER:300,PUB_SUB_EVENTS:{cartUpdate:"cart-update",quantityUpdate:"quantity-update",optionValueSelectionChange:"option-value-selection-change",variantChange:"variant-change",cartError:"cart-error",searchUpdate:"search-update",modalOpen:"modal-open",modalClose:"modal-close",drawerOpen:"drawer-open",drawerClose:"drawer-close",sectionRefresh:"section-refresh",themeEditor:"theme-editor"},ANIMATION_DURATIONS:{fast:150,normal:300,slow:500,slower:1e3},BREAKPOINTS:{mobile:750,tablet:990,desktop:1200},Z_INDEX:{dropdown:1e3,sticky:1020,fixed:1030,modalBackdrop:1040,modal:1050,popover:1060,tooltip:1070,notification:1e4},API_ENDPOINTS:{cart:"/cart.js",cartAdd:"/cart/add.js",cartUpdate:"/cart/update.js",cartChange:"/cart/change.js",search:"/search/suggest.json",productRecommendations:"/recommendations/products.json"},THEME_SETTINGS:{predictiveSearch:"predictive_search_enabled",cartType:"cart_type",stickyHeader:"sticky_header_type",menuType:"menu_type_desktop"},CSS_CUSTOM_PROPERTIES:{pageWidth:"--page-width",colorBackground:"--color-background",colorForeground:"--color-foreground",colorPrimary:"--color-primary",colorSecondary:"--color-secondary",fontBodyScale:"--font-body-scale",fontHeadingScale:"--font-heading-scale",spacingSectionsMobile:"--spacing-sections-mobile",spacingSectionsDesktop:"--spacing-sections-desktop"},getFocusableElements:e=>Array.from(e.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")),debounce:(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>e.apply(this,o),t)}},throttle:(e,t)=>{let n=0;return function(...o){const i=(new Date).getTime();if(!(i-n<t))return n=i,e.apply(this,o)}}};let t={};function n(e,n){return void 0===t[e]&&(t[e]=[]),t[e]=[...t[e],n],function(){t[e]=t[e].filter(e=>e!==n)}}function o(e,n){if(t[e]){const o=t[e].map(t=>{try{return t(n)}catch(t){return console.error(`Error in event subscriber for ${e}:`,t),Promise.resolve()}}).filter(e=>e instanceof Promise);return Promise.all(o)}return Promise.resolve()}window.subscribe=n,window.publish=o,"undefined"!=typeof module&&module.exports&&(module.exports={subscribe:n,publish:o});class i{static getFocusableElements(e=document){const t=["a[href]","button:not([disabled])","input:not([disabled])","textarea:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])',"details summary",'[contenteditable="true"]'].join(", ");return e.querySelectorAll(t)}static trapFocus(e,t=null){const n=this.getFocusableElements(e),o=n[0],i=n[n.length-1];t?t.focus():o&&o.focus();const r=e=>{"Tab"===e.key&&(e.shiftKey?document.activeElement===o&&(e.preventDefault(),i.focus()):document.activeElement===i&&(e.preventDefault(),o.focus()))};return e.addEventListener("keydown",r),()=>{e.removeEventListener("keydown",r)}}static removeTrapFocus(e){const t=this.getFocusableElements(e);t.length>0&&t[0].focus()}static animateHeight(e,t=!0){if(t){e.style.height="auto";const t=e.offsetHeight;e.style.height="0px",e.offsetHeight,e.style.transition="height 0.3s ease",e.style.height=t+"px",setTimeout(()=>{e.style.height="auto",e.style.transition=""},300)}else e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.transition="height 0.3s ease",e.style.height="0px",setTimeout(()=>{e.style.transition=""},300)}static isElementVisible(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}static debounce(e,t){let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e.apply(this,o)},t)}}static throttle(e,t){let n;return function(...o){n||(e.apply(this,o),n=!0,setTimeout(()=>n=!1,t))}}}window.DOMUtils=i,"undefined"!=typeof module&&module.exports&&(module.exports=i);class r{constructor(){this.cache=new Map,this.abortControllers=new Map,this.baseUrl=window.shopUrl||"",this.config=window.THEME_CONFIG?.API||{}}async fetchWithErrorHandling(e,t={},n=!1){const o=`${e}_${JSON.stringify(t)}`;if(n&&this.cache.has(o))return this.cache.get(o);this.abortControllers.has(e)&&this.abortControllers.get(e).abort();const i=new AbortController;this.abortControllers.set(e,i);const r={method:"GET",headers:this.config.defaults?.headers||{"Content-Type":"application/json",Accept:"application/json"},signal:i.signal,...t};try{const t=await fetch(e,r);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=await t.json();return n&&200===t.status&&(this.cache.set(o,i),setTimeout(()=>this.cache.delete(o),3e5)),i}catch(e){if("AbortError"===e.name)return null;throw console.error("API request failed:",e),e}finally{this.abortControllers.delete(e)}}async addToCart(e){const t=`${this.baseUrl}${this.config.endpoints?.cartAdd||"/cart/add.js"}`,n={method:"POST",body:e instanceof FormData?e:JSON.stringify(e),headers:e instanceof FormData?{}:{"Content-Type":"application/json"}};return this.fetchWithErrorHandling(t,n)}async updateCart(e){const t=`${this.baseUrl}${this.config.endpoints?.cartUpdate||"/cart/update.js"}`,n={method:"POST",body:JSON.stringify({updates:e}),headers:{"Content-Type":"application/json"}};return this.fetchWithErrorHandling(t,n)}async getCart(e=!0){const t=`${this.baseUrl}${this.config.endpoints?.cart||"/cart.js"}`;return this.fetchWithErrorHandling(t,{},e)}async changeCartItem(e,t){const n=`${this.baseUrl}${this.config.endpoints?.cartChange||"/cart/change.js"}`,o={method:"POST",body:JSON.stringify({id:e,quantity:t}),headers:{"Content-Type":"application/json"}};return this.fetchWithErrorHandling(n,o)}async searchProducts(e,t={}){const{limit:n=this.config.search?.limit||10,resources:o=this.config.search?.resources||"product,collection,page,article",section:i=this.config.search?.section||"predictive-search"}=t,r=new URLSearchParams({q:e,limit:n,resources:o,section_id:i}),s=`${this.baseUrl}/search/suggest.json?${r}`;return this.fetchWithErrorHandling(s,{},!0)}async getProductRecommendations(e,t=4){const n=`${this.baseUrl}/recommendations/products.json?product_id=${e}&limit=${t}`;return this.fetchWithErrorHandling(n,{},!0)}async getCollectionProducts(e,t={}){const{limit:n=50,sort_by:o="created-descending",page:i=1}=t,r=new URLSearchParams({limit:n,sort_by:o,page:i}),s=`${this.baseUrl}/collections/${e}/products.json?${r}`;return this.fetchWithErrorHandling(s,{},!0)}async submitContactForm(e){const t=`${this.baseUrl}/contact`,n={method:"POST",body:e};return this.fetchWithErrorHandling(t,n)}async subscribeNewsletter(e,t={}){const n=new FormData;n.append("contact[email]",e),n.append("contact[tags]","newsletter"),Object.entries(t).forEach(([e,t])=>{n.append(e,t)});const o=`${this.baseUrl}/contact`,i={method:"POST",body:n};return this.fetchWithErrorHandling(o,i)}clearCache(){this.cache.clear()}abortAllRequests(){this.abortControllers.forEach(e=>e.abort()),this.abortControllers.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys()),pendingRequests:this.abortControllers.size}}}function s(){const e=window.ThemeUtilities;if(!e)return console.warn("ThemeUtilities not available, falling back to basic initialization"),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})}),function(){const e=document.querySelector(".newsletter-form");e&&e.addEventListener("submit",function(){const e=this.querySelector('button[type="submit"]'),t=e.textContent;d(e,"Subscribing...",!0),setTimeout(()=>{d(e,"Subscribed!",!0,"#10b981"),setTimeout(()=>{d(e,t,!1)},2e3)},1e3)})}(),a(),void c();!function(e){const t=e.getUtility("animation");document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const n=this.getAttribute("href");if(t)t.scrollTo(n);else{const e=document.querySelector(n);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}})})}(e),function(e){const t=document.querySelector(".newsletter-form");if(!t)return;const n=e.getUtility("form"),o=e.getUtility("a11y");t.addEventListener("submit",function(e){const t=this.querySelector('button[type="submit"]'),i=t.textContent;if(n){if(!n.validate(this,{email:{required:!0,pattern:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}}).isValid)return e.preventDefault(),void(o&&o.announce("Please correct the form errors","assertive"))}d(t,"Subscribing...",!0),setTimeout(()=>{d(t,"Subscribed!",!0,"#10b981"),o&&o.announce("Successfully subscribed to newsletter"),setTimeout(()=>{d(t,i,!1)},2e3)},1e3)})}(e),function(e){const t=e.getUtility("animation");if(t){const e=document.querySelectorAll(".product-card, .feature-card, .hero-content");t.observeForAnimation(e,"animate-fade-in-up")}else a()}(e),function(e){const t=e.getUtility("performance");t?(t.lazyLoadImages(".product-image[data-src], img[data-src], [data-background-image]"),t.lazyLoadSections("[data-lazy-section]"),t.addResourceHints()):c()}(e),function(e){const t=e.getUtility("a11y");t&&t.setupSkipLinks()}(e)}function a(){const e=new IntersectionObserver(function(t){t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate-fade-in-up"),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll(".product-card, .feature-card, .hero-content").forEach(t=>{e.observe(t)})}function c(){const e=document.querySelectorAll(".product-image[data-src], img[data-src]");if(0===e.length)return;const t=new IntersectionObserver(function(e){e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src,n.removeAttribute("data-src")),n.classList.remove("lazy"),t.unobserve(n)}})});e.forEach(e=>t.observe(e))}function d(e,t,n,o=""){e.textContent=t,e.disabled=n,o&&(e.style.background=o)}window.APIUtils=new r,"undefined"!=typeof module&&module.exports&&(module.exports=r),document.addEventListener("theme:page:loaded",function(){window.HeaderUtils&&(window.bloxManiaHeader=new window.HeaderUtils),window.CartUtils&&(window.bloxManiaCart=new window.CartUtils),window.SearchUtils&&(window.bloxManiaSearch=new window.SearchUtils),s()}),document.addEventListener("DOMContentLoaded",function(){document.addEventListener("theme:utilities:loaded",s),window.ThemeUtilities&&window.ThemeUtilities.initialized&&s(),setTimeout(()=>{document.documentElement.classList.contains("page-loaded")||document.dispatchEvent(new CustomEvent("theme:page:loaded"))},500)});const l=window.THEME_CONFIG||{},u={primaryColor:l.COLORS?.primary?.DEFAULT||"#ffd800",secondaryColor:l.COLORS?.secondary?.DEFAULT||"#4791f0",backgroundColor:l.COLORS?.background?.DEFAULT||"#1d1e26",textColor:l.COLORS?.text?.DEFAULT||"#ffffff",animationDuration:l.ANIMATIONS?.durations?.normal||"300ms",animationEasing:l.ANIMATIONS?.easings?.smooth||"cubic-bezier(0.4, 0, 0.2, 1)",pageWidth:l.LAYOUT?.spacing?.pageWidth||"1200px",sectionSpacing:l.LAYOUT?.spacing?.sections||"52px"};let h;async function m(){try{window.PerformanceMonitor&&window.PerformanceMonitor.mark("theme:init:start"),await new Promise(e=>{const t=()=>{window.BloxManiaConstants&&window.DawnUtilities?e():setTimeout(t,10)};t()}),window.PerformanceMonitor&&(window.PerformanceMonitor.mark("theme:init:complete"),window.PerformanceMonitor.measure("theme:full:init","theme:init:start","theme:init:complete")),document.documentElement.classList.add("theme-loaded"),document.dispatchEvent(new CustomEvent("theme:loaded",{detail:{constants:window.BloxManiaConstants,utilities:window.DawnUtilities,components:window.BloxManiaComponents,performance:window.PerformanceMonitor}})),console.log("BloxMania theme initialized successfully")}catch(e){console.error("Theme initialization failed:",e)}}window.BloxManiaTheme={config:l,themeSettings:u,showNotification:function(e,t="success"){const n=document.createElement("div");n.className=`notification notification-${t}`,n.textContent=e,document.body.appendChild(n),setTimeout(()=>n.classList.add("show"),100),setTimeout(()=>{n.classList.remove("show"),setTimeout(()=>document.body.removeChild(n),300)},3e3)},formatPrice:function(e,t="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e)}},function(){const e=document.createElement("style");e.textContent="\n    .notification {\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 1rem 1.5rem;\n      border-radius: 8px;\n      color: white;\n      font-weight: 600;\n      z-index: 10000;\n      transform: translateX(100%);\n      transition: transform 0.3s ease;\n    }\n    .notification.show { transform: translateX(0); }\n    .notification-success { background: #10b981; }\n    .notification-error { background: #ef4444; }\n    .notification-warning { background: #f59e0b; }\n  ",document.head.appendChild(e)}(),document.addEventListener("visibilitychange",function(){document.hidden?document.body.classList.add("page-hidden"):document.body.classList.remove("page-hidden")}),window.addEventListener("resize",function(){clearTimeout(h),h=setTimeout(function(){window.dispatchEvent(new CustomEvent("themeResize"))},250)}),"undefined"!=typeof module&&module.exports&&(module.exports=window.BloxManiaTheme),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",m):m(),window.Shopify?.designMode&&document.addEventListener("shopify:section:load",()=>{setTimeout(m,100)}),window.BloxManiaInit={initializeTheme:m},window.BloxMania&&window.BloxMania.bundles&&window.BloxMania.bundles[e]&&(window.BloxMania.bundles[e].initialized=!0),console.log(`✅ ${e} bundle loaded`)}();