<section class="section container-spacing bg-slate-900 relative overflow-hidden">
  <div class="faq-pattern absolute inset-0 opacity-50"></div>
  <div class="max-w-4xl mx-auto relative z-20">
    <div class="text-center mb-12">
      <h2 class="text-2xl md:text-3xl lg:text-4xl font-bold text-white mb-4 drop-shadow-lg">
        Frequently Asked <span class="text-primary">Questions</span>
      </h2>
      <p class="text-base md:text-lg text-gray-300 mb-8 leading-relaxed">
        {{ section.settings.subtitle | default: 'Everything you need to know about BloxMania' }}
      </p>
    </div>

    <div class="flex flex-col gap-6 relative z-30">
      <div class="bg-slate-800 border border-slate-700 rounded-xl overflow-hidden transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10 relative z-50">
        <button
          class="faq-question w-full p-6 md:p-8 bg-slate-800 border-0 text-left cursor-pointer flex justify-between items-center transition-all duration-300 text-white text-base md:text-lg font-semibold hover:bg-slate-700"
          onclick="toggleFaq(this)"
          aria-expanded="false"
        >
          <span class="flex-1 mr-4">How fast will I receive my items?</span>
          <div class="faq-icon w-6 h-6 bg-primary rounded-full flex items-center justify-center transition-all duration-300 flex-shrink-0">
            {% render 'icon', icon: 'plus', size: 'small', color: 'black' %}
          </div>
        </button>
        <div class="faq-answer">
          <div class="px-6 md:px-8 pb-8 md:pb-10 pt-2 md:pt-4 text-gray-300 leading-relaxed text-sm md:text-base bg-slate-800">
            Our automated system delivers items instantly after payment confirmation. Most customers receive their
            gaming items within 1-5 minutes of purchase. For rare items or during high traffic, delivery may take up to
            24 hours maximum.
          </div>
        </div>
      </div>

      <div class="bg-slate-800 border border-slate-700 rounded-xl overflow-hidden transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10 relative z-50">
        <button
          class="faq-question w-full p-6 md:p-8 bg-slate-800 border-0 text-left cursor-pointer flex justify-between items-center transition-all duration-300 text-white text-lg md:text-xl font-semibold hover:bg-slate-700"
          onclick="toggleFaq(this)"
          aria-expanded="false"
        >
          <span class="flex-1 mr-4">What payment methods do you accept?</span>
          <div class="faq-icon w-6 h-6 bg-primary rounded-full flex items-center justify-center transition-all duration-300 flex-shrink-0">
            {% render 'icon', icon: 'plus', size: 'small', color: 'black' %}
          </div>
        </button>
        <div class="faq-answer">
          <div class="px-6 md:px-8 pb-8 md:pb-10 pt-2 md:pt-4 text-gray-300 leading-relaxed text-base md:text-lg bg-slate-800">
            We accept all major credit cards, PayPal, Apple Pay, Google Pay, and various cryptocurrency options
            including Bitcoin and Ethereum. All transactions are secured with SSL encryption.
          </div>
        </div>
      </div>

      <div class="bg-slate-800 border border-slate-700 rounded-xl overflow-hidden transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10 relative z-50">
        <button
          class="faq-question w-full p-6 md:p-8 bg-slate-800 border-0 text-left cursor-pointer flex justify-between items-center transition-all duration-300 text-white text-base md:text-lg font-semibold hover:bg-slate-700"
          onclick="toggleFaq(this)"
          aria-expanded="false"
        >
          <span class="flex-1 mr-4">Is my purchase guaranteed?</span>
          <div class="faq-icon w-6 h-6 bg-primary rounded-full flex items-center justify-center transition-all duration-300 flex-shrink-0">
            {% render 'icon', icon: 'plus', size: 'small', color: 'black' %}
          </div>
        </button>
        <div class="faq-answer">
          <div class="px-6 md:px-8 pb-8 md:pb-10 pt-2 md:pt-4 text-gray-300 leading-relaxed text-base md:text-lg bg-slate-800">
            Yes! We offer a 100% satisfaction guarantee. If you don't receive your items within 24 hours or encounter
            any issues, we'll provide a full refund or replacement. Your satisfaction is our top priority.
          </div>
        </div>
      </div>

      <div class="bg-slate-800 border border-slate-700 rounded-xl overflow-hidden transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10 relative z-50">
        <button
          class="faq-question w-full p-6 md:p-8 bg-slate-800 border-0 text-left cursor-pointer flex justify-between items-center transition-all duration-300 text-white text-base md:text-lg font-semibold hover:bg-slate-700"
          onclick="toggleFaq(this)"
          aria-expanded="false"
        >
          <span class="flex-1 mr-4">Can I get a refund if I'm not satisfied?</span>
          <div class="faq-icon w-6 h-6 bg-primary rounded-full flex items-center justify-center transition-all duration-300 flex-shrink-0">
            {% render 'icon', icon: 'plus', size: 'small', color: 'black' %}
          </div>
        </button>
        <div class="faq-answer">
          <div class="px-6 md:px-8 pb-8 md:pb-10 pt-2 md:pt-4 text-gray-300 leading-relaxed text-base md:text-lg bg-slate-800">
            Absolutely! We offer a 30-day money-back guarantee. If you're not completely satisfied with your purchase,
            contact our support team and we'll process your refund quickly and hassle-free.
          </div>
        </div>
      </div>

      <div class="bg-slate-800 border border-slate-700 rounded-xl overflow-hidden transition-all duration-300 hover:border-primary/50 hover:shadow-lg hover:shadow-primary/10 relative z-50">
        <button
          class="faq-question w-full p-6 md:p-8 bg-slate-800 border-0 text-left cursor-pointer flex justify-between items-center transition-all duration-300 text-white text-lg md:text-xl font-semibold hover:bg-slate-700"
          onclick="toggleFaq(this)"
          aria-expanded="false"
        >
          <span class="flex-1 mr-4">How do I contact customer support?</span>
          <div class="faq-icon w-6 h-6 bg-primary rounded-full flex items-center justify-center transition-all duration-300 flex-shrink-0">
            {% render 'icon', icon: 'plus', size: 'small', color: 'black' %}
          </div>
        </button>
        <div class="faq-answer">
          <div class="px-6 md:px-8 pb-8 md:pb-10 pt-2 md:pt-4 text-gray-300 leading-relaxed text-base md:text-lg bg-slate-800">
            You can reach our 24/7 support team through our Discord server, live chat on our website, or by emailing
            support@bloxmania.com. We typically respond within 15 minutes during business hours.
          </div>
        </div>
      </div>
    </div>

    <div class="mt-8 text-center">
      <a
        href="{{ section.settings.contact_link | default: '/pages/contact' }}"
        class="btn btn--primary btn--lg"
        aria-label="Contact us for additional help"
      >
        Still have questions? Contact us
        {% render 'icon', icon: 'star', size: 'small' %}
      </a>
    </div>
  </div>
</section>

<script>
  function toggleFaq(button) {
    const faqItem = button.parentNode;
    const faqAnswer = faqItem.querySelector('.faq-answer');
    const isActive = faqItem.classList.contains('active');

    // Close all other FAQ items
    document.querySelectorAll('.faq-question').forEach((btn) => {
      if (btn !== button) {
        btn.parentNode.classList.remove('active');
        btn.parentNode.querySelector('.faq-answer').classList.remove('active');
        btn.setAttribute('aria-expanded', 'false');
      }
    });

    // Toggle current item
    if (isActive) {
      faqItem.classList.remove('active');
      faqAnswer.classList.remove('active');
      button.setAttribute('aria-expanded', 'false');
    } else {
      faqItem.classList.add('active');
      faqAnswer.classList.add('active');
      button.setAttribute('aria-expanded', 'true');
    }
  }
</script>

{% schema %}
{
  "name": "FAQ",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Section Title",
      "default": "Frequently Asked Questions"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Section Subtitle",
      "default": "Everything you need to know about BloxMania"
    },
    {
      "type": "url",
      "id": "contact_link",
      "label": "Contact Support Link"
    }
  ],
  "presets": [
    {
      "name": "FAQ"
    }
  ]
}
{% endschema %}
