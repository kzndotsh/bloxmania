<header
  class="header header--transparent animate-in fade-in duration-500"
  id="header"
  role="banner"
>
  <div class="flex items-center px-4 md:px-8 lg:px-12 xl:px-20 py-6 max-w-full mx-auto">
    <!-- Left: Logo -->
    <div class="flex items-center flex-shrink-0 mr-8 md:mr-12 lg:mr-16 xl:mr-20">
      <!-- Logo -->
      <div class="flex-shrink-0">
        {% if section.settings.logo != blank %}
          <a href="{{ routes.root_url }}">
            <img
              src="{{ section.settings.logo | image_url: width: 233 }}"
              alt="{{ shop.name }}"
              class="h-14 md:h-16 lg:h-16 w-auto transition-transform duration-300 cursor-pointer hover:scale-105"
              width="233"
              height="70"
            >
          </a>
        {% else %}
          <a href="{{ routes.root_url }}">
            <img
              src="{{ 'image-BM.png' | asset_url }}"
              alt="BloxMania"
              class="h-14 md:h-16 lg:h-16 w-auto transition-transform duration-300 cursor-pointer hover:scale-105"
              width="233"
              height="70"
            >
          </a>
        {% endif %}
      </div>
    </div>

    <!-- Center: Desktop Navigation (Hidden on Mobile) -->
    <div class="hidden lg:flex justify-center flex-1 min-w-0 px-2 lg:px-4 xl:px-6">
      <!-- Desktop Navigation -->
      <nav
        class="flex items-center justify-center gap-4 lg:gap-6 xl:gap-8 2xl:gap-12 min-w-0"
        role="navigation"
        aria-label="Main navigation"
      >
        <a
          href="{{ routes.all_products_collection_url }}"
          class="nav-link text-gray-300 no-underline font-semibold text-sm lg:text-base xl:text-lg transition-all relative flex items-center gap-1 lg:gap-2 whitespace-nowrap py-2 hover:text-primary after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full animate-in slide-in-from-top duration-300 delay-100"
        >
          {% render 'icon', icon: 'shopping-bag', class: 'transition-colors duration-300', size: 'medium' %}
          Shop Now
        </a>

        <a
          href="{{ pages.guarantee.url | default: '/pages/guarantee' }}"
          class="nav-link text-gray-300 no-underline font-semibold text-sm lg:text-base xl:text-lg transition-all relative flex items-center gap-1 lg:gap-2 whitespace-nowrap py-2 hover:text-primary after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full animate-in slide-in-from-top duration-300 delay-200"
        >
          <div class="relative">
            {% render 'icon', icon: 'shield', class: 'transition-colors duration-300', size: 'medium' %}
          </div>
          Our Guarantee
        </a>

        {%- if section.settings.discord_url != blank -%}
          <a
            href="{{ section.settings.discord_url }}"
            class="nav-link text-gray-300 no-underline font-semibold text-sm lg:text-base xl:text-lg transition-all relative flex items-center gap-1 lg:gap-2 whitespace-nowrap py-2 hover:text-primary after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full animate-in slide-in-from-top duration-300 delay-300"
            target="_blank"
            rel="noopener"
          >
            {% render 'icon',
              icon: 'discord',
              class: 'transition-colors duration-300 flex items-center',
              size: 'medium'
            %}
            Daily Giveaways
          </a>
        {%- endif -%}

        <a
          href="{{ pages['purchasing-guide'].url | default: '/pages/purchasing-guide' }}"
          class="nav-link text-gray-300 no-underline font-semibold text-sm lg:text-base xl:text-lg transition-all relative flex items-center gap-1 lg:gap-2 whitespace-nowrap py-2 hover:text-primary after:content-[''] after:absolute after:bottom-0 after:left-0 after:w-0 after:h-0.5 after:bg-primary after:transition-all after:duration-300 hover:after:w-full animate-in slide-in-from-top duration-300 delay-400"
        >
          {% render 'icon', icon: 'file-lines', class: 'transition-colors duration-300', size: 'medium' %}
          Purchasing Guide
        </a>
      </nav>
    </div>

    <!-- Right: User Actions -->
    <div class="flex items-center justify-end gap-3 flex-shrink-0 ml-8 md:ml-12 lg:ml-16 xl:ml-20">
      <!-- Mobile Menu Toggle (Visible on Mobile Only) -->
      <button
        class="lg:hidden mobile-menu-toggle header__icon-button"
        aria-label="Open mobile menu"
        type="button"
        data-mobile-menu-toggle
      >
        {% render 'icon', icon: 'bars', class: 'header__icon', size: 'large' %}
      </button>

      <!-- Search Button (Hidden on Mobile) -->
      <button
        class="header__icon-button search-toggle hidden lg:flex animate-in slide-in-from-top duration-300 delay-500"
        aria-label="Search"
        type="button"
        data-search-toggle
      >
        {% render 'icon', icon: 'search', size: 'medium' %}
      </button>

      <!-- Cart Button (Hidden on Mobile) -->
      <a
        href="{{ routes.cart_url }}"
        class="header__icon-button header__cart-button hidden lg:flex animate-in slide-in-from-top duration-300 delay-600"
        aria-label="Shopping cart"
      >
        {% render 'icon', icon: 'cart', size: 'medium' %}
        {% if cart.item_count > 0 %}
          <span class="header__cart-badge">
            {{- cart.item_count -}}
          </span>
        {% endif %}
      </a>

      <!-- Account Button (Hidden on Mobile) -->
      <a
        href="{% if customer %}{{ routes.account_url }}{% else %}{{ routes.account_login_url }}{% endif %}"
        class="header__icon-button hidden lg:flex animate-in slide-in-from-top duration-300 delay-700"
        aria-label="{% if customer %}User account{% else %}Sign in{% endif %}"
      >
        {% render 'icon', icon: 'user', size: 'medium' %}
      </a>
    </div>
  </div>
</header>

<!-- Mobile Menu -->
{% render 'mobile-menu' %}

<!-- Search Modal -->
<div id="search-modal" class="search-modal hidden">
  <div class="search-modal__overlay animate-in fade-in duration-300"></div>
  <div class="search-modal__content animate-in slide-in-from-top duration-300 delay-100">
    <div class="search-modal__container">
      <!-- Search Modal Header -->
      <div class="search-modal__header">
        <h2 class="search-modal__heading">Search</h2>
        <button
          class="search-modal__close"
          aria-label="Close search"
          data-search-close
        >
          {% render 'icon', icon: 'close', class: 'search-modal__close-icon', size: 'medium' %}
        </button>
      </div>

      <!-- Search Form -->
      <div class="search-modal__body">
        <form class="search-modal__form" action="{{ routes.search_url }}" method="get" role="search">
          <div class="search-modal__input-wrapper">
            <input
              type="search"
              name="q"
              class="search-modal__input"
              placeholder="{{ 'general.search.placeholder' | t: default: 'Search for products, collections, or pages...' }}"
              aria-label="{{ 'general.search.search' | t: default: 'Search' }}"
              autocomplete="off"
              spellcheck="false"
            >
            <button
              type="submit"
              class="search-modal__submit"
              aria-label="Submit search"
            >
              {% render 'icon', icon: 'search', class: 'search-modal__submit-icon', size: 'medium' %}
            </button>
          </div>
        </form>

        <!-- Search Results -->
        <div class="search-modal__results">
          <div class="search-modal__loading hidden">
            <div class="search-modal__spinner"></div>
            <p>Searching...</p>
          </div>
          <div class="search-modal__content-results hidden"></div>
          <div class="search-modal__no-results hidden">
            <p>No results found</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "text",
      "id": "discord_url",
      "label": "Discord URL"
    },
    {
      "type": "text",
      "id": "youtube_url",
      "label": "YouTube URL"
    },
    {
      "type": "text",
      "id": "tiktok_url",
      "label": "TikTok URL"
    }
  ]
}
{% endschema %}
