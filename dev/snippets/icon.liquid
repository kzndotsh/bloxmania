{% comment %}
  Renders an icon using Font Awesome with consistent styling and accessibility features.

  Accepts:
  - icon: {String} Icon name (required)
  - size: {String} Icon size. Values are "small", "medium", "large", "xlarge". Default: "medium" (optional)
  - color: {String} Icon color. Values are "primary", "secondary", "white", "gray", "current". Default: "current" (optional)
  - class: {String} Additional CSS classes to apply (optional)
  - alt: {String} Alternative text for accessibility (optional)
  - aria_hidden: {Boolean} Hide from screen readers. Default: true (optional)

  Usage examples:
    {% render 'icon', icon: 'arrow', size: 'small' %}
    {% render 'icon', icon: 'cart', color: 'primary', alt: 'Shopping cart' %}
{% endcomment %}

{%- liquid
  assign size = size | default: 'medium'
  assign color = color | default: 'current'
  assign aria_hidden = aria_hidden | default: true

  case size
    when 'small'
      assign size_class = 'fa-xs'
    when 'large'
      assign size_class = 'fa-lg'
    when 'xlarge'
      assign size_class = 'fa-2x'
    else
      assign size_class = 'fa-sm'
  endcase

  case color
    when 'primary'
      assign color_class = 'text-primary'
    when 'secondary'
      assign color_class = 'text-secondary'
    when 'white'
      assign color_class = 'text-white'
    when 'gray'
      assign color_class = 'text-gray-400'
    else
      assign color_class = 'text-current'
  endcase

  assign fa_class = ''
  case icon
    when 'arrow'
      assign fa_class = 'fa-solid fa-arrow-right'
    when 'cart'
      assign fa_class = 'fa-solid fa-cart-shopping'
    when 'plus'
      assign fa_class = 'fa-solid fa-plus'
    when 'minus'
      assign fa_class = 'fa-solid fa-minus'
    when 'close'
      assign fa_class = 'fa-solid fa-xmark'
    when 'search'
      assign fa_class = 'fa-solid fa-magnifying-glass'
    when 'heart'
      assign fa_class = 'fa-solid fa-heart'
    when 'star'
      assign fa_class = 'fa-solid fa-star'
    when 'star-outline'
      assign fa_class = 'fa-regular fa-star'
    when 'check'
      assign fa_class = 'fa-solid fa-check'
    when 'shield'
      assign fa_class = 'fa-solid fa-shield-halved'
    when 'zap'
      assign fa_class = 'fa-solid fa-bolt'
    when 'tag'
      assign fa_class = 'fa-solid fa-tag'
    when 'message-circle'
      assign fa_class = 'fa-solid fa-comment-dots'
    when 'menu'
      assign fa_class = 'fa-solid fa-bars'
    when 'user'
      assign fa_class = 'fa-solid fa-user'
    when 'eye'
      assign fa_class = 'fa-solid fa-eye'
    when 'share'
      assign fa_class = 'fa-solid fa-share'
    else
      assign fa_class = 'fa-solid fa-circle-question'
  endcase

  assign custom_classes = ''
  if class
    assign custom_classes = class
  endif

  assign icon_classes = fa_class | append: ' ' | append: size_class | append: ' ' | append: color_class | append: ' ' | append: custom_classes
-%}

<i class="{{ icon_classes | strip }}"{% if aria_hidden %} aria-hidden="true"{% endif %}{% if alt %} role="img" aria-label="{{ alt | escape }}"{% endif %}></i>